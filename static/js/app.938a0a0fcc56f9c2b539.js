webpackJsonp([0],{"/Q9H":function(t,e){},Ky20:function(t,e){},NHnr:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("7+uW"),i={components:{},data:function(){return{title:"",inputField:"",todoList:[],db:"",id:null!=localStorage.getItem("id")?parseInt(localStorage.getItem("id")):""}},created:function(){var t=indexedDB.open("mystore",5),e=this;t.onsuccess=function(){(e.db=t.result,""!=e.id)&&(e.db.transaction(["notes"],"readwrite").objectStore("notes").get(e.id).onsuccess=function(){var t=event.target.result;e.title=t.title,e.todoList=t.todoList})}},mounted:function(){},methods:{saveNote:function(){var t=this;""==t.id?""!==t.title&&t.db.transaction(["notes"],"readwrite").objectStore("notes").add({title:t.title,todoList:t.todoList}):t.db.transaction(["notes"],"readwrite").objectStore("notes").put({title:t.title,todoList:t.todoList,id:t.id})},addTodo:function(t){t=this.inputField,this.todoList.push({name:t,complete:!1}),this.inputField=""},deleteTodo:function(t,e){var o=this;o.todoList.splice(e,1),""!=o.id&&o.db.transaction(["notes"],"readwrite").objectStore("notes").put({title:o.title,todoList:o.todoList,id:o.id})},toggle:function(t){t.complete=!t.complete},backToList:function(){this.$emit("noteList")}},computed:{}},a={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-sm-6"},[o("button",{staticClass:"btn btn-danger",on:{click:t.backToList}},[t._v("Back")])]),t._v(" "),o("div",{staticClass:"col-sm-6"},[o("button",{staticClass:"btn btn-success",on:{click:t.saveNote}},[t._v("Save")])])])]),t._v(" "),o("div",{staticClass:"container"},[o("form",[o("div",{staticClass:"form-group"},[o("label",[t._v("Title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control",attrs:{placeholder:"Title is required"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),t._v(" "),o("div",{staticClass:"form-group"},[o("label",[t._v("New Todo")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.inputField,expression:"inputField"}],staticClass:"form-control",attrs:{placeholder:"Click 'Enter' to add case"},domProps:{value:t.inputField},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addTodo.apply(null,arguments)},input:function(e){e.target.composing||(t.inputField=e.target.value)}}})])]),t._v(" "),o("div",{staticClass:"card"},[o("ul",{staticClass:"list-group list-group-flush"},t._l(t.todoList,function(e,s){return o("li",{staticClass:"list-group-item"},[e.complete?o("del",[o("h6",[t._v(t._s(e.name))])]):o("span",[o("h6",[t._v(t._s(e.name))])]),t._v(" "),o("input",{attrs:{type:"checkbox"},domProps:{checked:e.complete},on:{change:function(o){return t.toggle(e)}}}),t._v(" "),o("span",{staticClass:"delete",on:{click:function(o){return t.deleteTodo(e,s)}}},[t._v("X")])])}),0)])])])},staticRenderFns:[]};var n={components:{},data:function(){return{todoList:[],db:"",selectedTodoId:"",selectedTodoIndex:""}},created:function(){null!=localStorage.getItem("id")&&localStorage.removeItem("id")},mounted:function(){var t=indexedDB.open("mystore",5);t.onupgradeneeded=function(){console.log("ok");var e=t.result;e.objectStoreNames.contains("notes")||e.createObjectStore("notes",{keyPath:"id",autoIncrement:!0})};var e=this;t.onsuccess=function(){e.db=t.result,e.db.transaction("notes","readonly").objectStore("notes").getAll().onsuccess=function(){for(var t=event.target.result,o=0;o<t.length;o++){var s=t[o];e.todoList.push(s)}}}},methods:{createNote:function(){this.$emit("createNote")},addTodo:function(t){t=this.inputField,this.todoList.push({name:t,complete:!1}),this.inputField="",console.log(this.todoList)},deleteTodo:function(t,e){this.todoList.splice(e,1),this.db.transaction(["notes"],"readwrite").objectStore("notes").delete(t)},refactorTodo:function(t){this.$emit("createNote"),localStorage.setItem("id",t)},toggle:function(t){t.complete=!t.complete},sendDeleteInfo:function(t,e){this.selectedTodoId=t,this.selectedTodoIndex=e}},computed:{}},l={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("nav",{staticClass:"nav fixed-top justify-content-center bg-light"},[o("button",{staticClass:"btn btn-outline-primary btn-lg mybtn",on:{click:t.createNote}},[t._v("Add Note")])]),t._v(" "),o("div",{staticClass:"container list"},[o("div",{staticClass:"accordion",attrs:{id:"accordionExample"}},t._l(t.todoList,function(e,s){return o("div",{staticClass:"card"},[o("div",{staticClass:"card-header",attrs:{id:"headingOne"}},[o("h5",{staticClass:"title",attrs:{"data-toggle":"collapse","data-target":"#index"+s,"aria-expanded":"false","aria-controls":"index"+s}},[t._v("\n            "+t._s(e.title)+"\n          ")]),t._v(" "),o("span",{staticClass:"delete",attrs:{"data-toggle":"modal","data-target":"#deleteModal"},on:{click:function(o){return t.sendDeleteInfo(e.id,s)}}},[t._v("X")]),t._v(" "),o("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[o("div",{staticClass:"modal-dialog modal-dialog-centered"},[o("div",{staticClass:"modal-content"},[t._m(0,!0),t._v(" "),o("div",{staticClass:"modal-body"},[t._v("A you sure want delete this note?")]),t._v(" "),o("div",{staticClass:"modal-footer"},[o("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:function(e){return t.deleteTodo(t.selectedTodoId,t.selectedTodoIndex)}}},[t._v("Delete")])])])])]),t._v(" "),o("span",{staticClass:"refactor",on:{click:function(o){return t.refactorTodo(e.id)}}},[t._v("✎")])]),t._v(" "),o("div",{staticClass:"collapse",attrs:{id:"index"+s,"aria-labelledby":"headingOne","data-parent":"#accordionExample"}},[o("div",{staticClass:"card-body"},[o("ul",{staticClass:"list-group list-group-flush"},t._l(e.todoList,function(e){return o("li",{staticClass:"list-group-item",class:{complete:e.complete}},[e.complete?o("del",[o("h6",[t._v(t._s(e.name))])]):o("span",[o("h6",[t._v(t._s(e.name))])])])}),0)])])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Delete note")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])}]};var d={name:"App",components:{createNote:o("VU/8")(i,a,!1,function(t){o("fY91")},"data-v-5e68fbdb",null).exports,noteList:o("VU/8")(n,l,!1,function(t){o("/Q9H")},"data-v-66d5d3aa",null).exports},created:function(){null==localStorage.getItem("i")&&localStorage.setItem("i","0")},mounted:function(){},data:function(){return{state:"noteList"}},methods:{createNote:function(){this.state="createNote"},noteList:function(){this.state="noteList"}}},c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},["createNote"==this.state?e("createNote",{on:{noteList:this.noteList}}):this._e(),this._v(" "),"noteList"==this.state?e("noteList",{on:{createNote:this.createNote}}):this._e()],1)},staticRenderFns:[]};var r=o("VU/8")(d,c,!1,function(t){o("Ky20")},null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:r},template:"<App/>"})},fY91:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.938a0a0fcc56f9c2b539.js.map